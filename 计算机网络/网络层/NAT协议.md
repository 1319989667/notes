# NAT的基本原理

内部网络的计算机使用私有的IP地址，内部网络的出口路由器（默认网关）设置若干个公有IP地址。从内部网络外出的IP数据报经过路由器时，路由器把私有IP地址转换为公有IP地址，再转发出去；进入内部网络的IP数据报经过路由器，路由器则把公有IP地址转换为私有IP地址。

现在基本采用动态NAT转换，使用NAPT（网络地址端口转换），既转换IP地址，又转换端口号。

但若如果有一个内部计算机没有访问外面，动态NAT表中并没有它的转换信息，外部无法访问它。因此，需要再使用静态NAT表解决这个问题。

内部网络用户使用私有IP地址访问，外部用户则使用静态NAT访问。



# 优点

- 节省了IP地址资源，延缓了IPv4地址枯竭的问题
- 增强了网络安全性，隐藏了内部网络的结构和主机
- 简化了网络管理，提高了网络效率



# 缺点

- 增加了网络的延迟和复杂性
- 丢失了端到端的IP的跟踪过程
- 不能够支持一些特定的应用，如SNMP、FTP、IP Phone等
- 不能处理嵌入式IP地址或端口的数据包
- 需要更多的内存和CPU来处理NAT的过程